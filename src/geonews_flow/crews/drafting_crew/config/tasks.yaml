draft_content_task:
  description: >
    0. IMPORTANT : if {feedback} is not "None", skip this task
    1. specific date: {date} (Use this as the cutoff).
    2. Use your tools 'fetch_news_headlines' and 'fetch_think_tanks_reports' to fetch news headlines from NewsAPI and Think Tank RSS feeds.
    3. Compile a JSON-structured report containing the Headlines, Source, and URL of the news headlines and feeds.
    4. Only use the above mentioned tools only.
  expected_output: >
    A structured JSON without markdown block of the fetched articles along with their headlines and source URLs.
  agent: news_researcher

analyze_content_task:
  description: >
    0. IMPORTANT : if {feedback} is not "None", skip this task
    1. You need to analyze the fetched articles given from the 'fetch_and_scrape_task'
    2. By analyzing you need to select the top news articles that is more relevant in context of India and its geopolitical context.
    3. Select the relevant ones and discard the others. The selection rate should be near 70 pecentage.
    4. Using the 'get_article_content' tool, fetch the full content of the selected articles and sotre it in the context feild.
    4. Compile the JSON-strucuted report containing the selected articles and their fetched content.
  expected_output: >
    A structured JSON without markdown block of the selected articles along with their headlines and source URLs.
  agent: news_analyst

write_content_task:
  description: >
    Using the structured articles provided, craft "The Geonews Weekly" newsletter. 
    Your goal is to make this strictly professional yet highly engaging—think 'The Economist' meets a classified intelligence brief.
    
    **MANDATORY STRUCTURE:**
    
    1. **The Executive Summary (TL;DR)**: 
       - Start immediately with 3 distinct bullet points summarizing the entire edition.
       - This allows busy readers to grasp the "Need to Know" in 10 seconds.
       
    2. **The Deep Dive (Feature Story)**: 
       - Select the single most disruptive story. 
       - Write a compelling 250-300 word narrative. 
       - Use specific sub-headers to break up the text.
       - Focus on the "Quiet Signal"—the hidden implication everyone else is missing.
       
    3. **Global Radar (Rapid Fire)**: 
       - A dedicated section for other important news. 
       - Format as a bulleted list. 
       - **Style:** "**[Region/Topic]:** [One sentence punchy update]."
       - Example: "**South China Sea:** New maritime militia deployments suggest escalation..."
       
    4. **The Delhi Angle (India Impact)**: 
       - Explain the specific implications for India. 
       - Does this affect the Rupee, border security, or trade policy? Be bold and specific.
    
    **TONE & STYLE GUIDELINES:**
    - **Skimmable:** Use **Bold** for key names, entities, and "impact" phrases.
    - **Narrative:** Do not just report facts; weave a story.
    - **Feedback:** If '{feedback}' is provided, treat it as a mandatory correction order. If "None", prioritize maximum impact.
  expected_output: >
    A clean, structured Markdown newsletter. 
    - Use H1 for the Main Title.
    - Use H2 for Section Headers (Deep Dive, Radar, Delhi Angle).
    - Use horizontal rules (---) to separate sections.
    - No JSON or code blocks, just pure, beautifully formatted Markdown.
  agent: newsletter_writer

review_task:
  description: >
    Review the draft. Check for factual accuracy and tone.
    Only provide the straight JSON output without markdown for this task, not any other thing or review.
    1. "content" : the content of the news letter
    2. "status": either "APPROVED" or "REJECTED"
    3. "feedback": specific instructions on what to fix (if rejected) or "None" (if approved).
  expected_output: >
    {
      "content": "# The Geonews Weekly...",
      "status": "APPROVED",
      "feedback": "None"
    }
    
    DO NOT wrap the output in ```json ... ```.
  agent: quality_assurance_editor